<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <p class="super_element">Привет</p>

      <img src="https://placeimg.com/50/50/animals" alt="" />
      <img src="https://placeimg.com/50/50/arch" alt="" />
      <img src="https://placeimg.com/50/50/nature" alt="" />
      <img src="https://placeimg.com/50/50/people" alt="" />
      <img src="https://placeimg.com/50/50/tech" alt="" />
      <img src="https://placeimg.com/50/50/tech/grayscale" alt="" />
      <img src="https://placeimg.com/50/50/tech/sepia" alt="" />

      <br />

      <button>Кнопка</button>
      <button class="super_element">Кнопка с классом btn</button>
      <button>Кнопка</button>

      <br />

      <textarea></textarea>

      <br />

      <ul>
        <li>
          <button>Кнопка 1</button>
        </li>
        <li>
          <button>Кнопка 2</button>
        </li>
        <li>
          <button>Кнопка 3</button>
        </li>
        <li>
          <button>Кнопка 4</button>
        </li>
      </ul>
    </div>
    <script>
      "use strict";

      //   1. Необходимо вывести сообщение в консоль "все теги прогрузились", когда все теги будут созданы браузером.
      //   document.addEventListener("DOMContentLoaded", (e) => {
      //     console.log("все теги прогрузились");
      //   });

      //   2. Необходимо вывести сообщение в консоль "страница загрузилась", когда все ресурсы страницы будут загружены.
      //   window.addEventListener("load", (e) => {
      //     console.log("страница загрузилась");
      //   });

      /* 3. При клике на какой-либо тег на странице в консоль должно выводиться сообщение наподобие:
      - Класс "super_element" присутствует в элементе "div".
      Сообщение должно определять, присутствует или отсутствует класс "super_element"
      у элемента, а также выводить в нижнем регистре верный тег в данной строке, по
      которому был совершен клик.
      - Необходимо использовать делегирование.
       */

      // const containerElement = document.querySelector("div.container");
      // const tagsArray = containerElement.querySelectorAll("*");
      // tagsArray.forEach((element) => {
      //   element.addEventListener("click", (e) => {
      //     console.log(
      //       element.classList.contains("super_element")
      //         ? "Класс super_element присутствует в элементе"
      //         : "Класса super_element нет у элемента",
      //       e.target.tagName.toLowerCase(),
      //       "с текстом:",
      //       e.target.innerHTML
      //     );
      //   });
      // });

      //   4. Сделайте, чтобы при наведении на textarea в консоли появлялось сообщение: "Вы навели на textarea."
      //   const containerElement = document.querySelector("div.container");
      //   const textareaElement = containerElement.querySelector("textarea");
      //   textareaElement.addEventListener("mouseover", (e) =>
      //     console.log("Вы навели на textarea.")
      //   );

      /* 5. Необходимо повесить событие клика на тег ul. В обработчике события в консоль необходимо выводить текст, 
      который записан внутри элемента кнопки, по которой был произведен клик. 
      Если клик был не по кнопке, то ничего выводить не нужно. Необходимо использовать делегирование. */

      // const containerElement = document.querySelector("div.container");
      // const ulElement = containerElement.querySelector("ul");
      // const buttonsUlArray = ulElement.querySelectorAll("button");
      // buttonsUlArray.forEach((btn) => {
      //   btn.addEventListener("click", (e) => {
      //     console.log(e.target.innerHTML);
      //   });
      // });

      /* 6. Вопрос: Почему в console.log пишется сначала текст из 5 задания и только потом выводится текст из 3 задания, 
      если мы кликаем по кнопкам в ul? Ответ необходимо написать здесь же, под этим комментарием, своими словами.
 */
      //  Когда на элементе происходит событие, обработчики сначала срабатывают на нём, потом на его родителе,
      //  затем выше и так далее, вверх по цепочке предков. Таким образом, если на кнопке сработали два обработчика события
      //  (из третьего и пятого упражнения), то потом эти же события срабатывают на li, а потом и на ul. И хотя
      //  срабатывает на li и ul, в качестве e.target все равно остается самый дочерний элемент, в данном случае кнопка.
      // И еще: а на самой кнопке события срабатывают по очередности их расположения в скрипте.

      // 7. С помощью JS необходимо изменить цвет заднего фона каждого второго тега li.
      const containerElement = document.querySelector("div.container");
      const liArray = containerElement.querySelectorAll("li");
      for (let i = 0; i < liArray.length; i++) {
        if (i % 2 === 1) {
          liArray[i].style.backgroundColor = "palegreen";
        }
      }
    </script>
  </body>
</html>
